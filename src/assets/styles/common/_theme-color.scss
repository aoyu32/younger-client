@use "sass:map";
@use "sass:meta";
@use "sass:color";

$theme: (
    dark: ( // 对应"深邃黑夜"
        // 主品牌色 (Dark Teal)
        c-p: #004d4d,
        c-p-light: #006666,
        c-p-lighter: #008080,
        c-p-lightest: #00b3b3,
        c-p-dark: #003333,
        c-p-darker: #001a1a,
        c-p-darkest: #000d0d,

        // 辅助品牌色 (Dark Coral)
        c-s: #b33e3e,
        c-s-light: #cc4d4d,
        c-s-lighter: #e55c5c,
        c-s-lightest: #ff8080,
        c-s-dark: #992e2e,
        c-s-darker: #801f1f,
        c-s-darkest: #661414,

        // 中性色 (Dark theme greys)
        c-g: #121212,
        c-g0: #1e1e1e,
        c-g1: #252525,
        c-g2: #2e2e2e,
        c-g3: #3d3d3d,
        c-g4: #525252,
        c-g5: #6e6e6e,
        c-g6: #8e8e8e,
        c-g7: #b3b3b3,
        c-g8: #d9d9d9,
        c-g9: #e8e8e8,
        c-g10: #ffffff,

        // 功能色
        success: #218838,
        warning: #e0a800,
        error: #c82333,
        info: #138496),
    light: ( // 对应"极简至白"
        // 主品牌色 (Light Teal)
        c-p: #008080,
        c-p-light: #00a3a3,
        c-p-lighter: #00cccc,
        c-p-lightest: #b2f5f5,
        c-p-dark: #006666,
        c-p-darker: #004d4d,
        c-p-darkest: #003333,

        // 辅助品牌色 (Light Coral)
        c-s: #ff6b6b,
        c-s-light: #ff8e8e,
        c-s-lighter: #ffb3b3,
        c-s-lightest: #ffe5e5,
        c-s-dark: #e05555,
        c-s-darker: #c23e3e,
        c-s-darkest: #a32929,

        // 中性色 (Light theme greys)
        c-g: #ffffff,
        c-g0: #f8f9fa,
        c-g1: #e9ecef,
        c-g2: #dee2e6,
        c-g3: #ced4da,
        c-g4: #adb5bd,
        c-g5: #6c757d,
        c-g6: #495057,
        c-g7: #343a40,
        c-g8: #212529,
        c-g9: #1a1e21,
        c-g10: #000000,

        // 功能色
        success: #28a745,
        warning: #ffc107,
        error: #dc3545,
        info: #17a2b8),
);

$currentTheme : light;
@mixin theme() {
    @each $key, $value in $theme {
        $currentTheme : $key !global;

        html[data-theme='#{$key}'] & {
            @content;
        }
    }
}

@function color($key, $opacity: null) {
    $themeMap: map.get($theme, $currentTheme);

    @if map.has-key($themeMap, $key) {
        $color: map.get($themeMap, $key);

        @if $opacity !=null {
            @return rgba($color, $opacity);
        }

        @else {
            @return $color;
        }
    }

    @warn "Unknown theme color: #{$key}";
    @return null;
}
